<!DOCTYPE html>
<!-- saved from url=(0082)https://www.freecodecamp.org/news/spring-boot-tutorial-build-fast-modern-java-app/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        
        
            <title>Spring Boot Tutorial – How to Build Fast and Modern Java Apps</title>
        
        <meta name="HandheldFriendly" content="True">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="preconnect" href="https://fonts.googleapis.com/">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
        
            <link rel="stylesheet" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;" href="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/css2">
        

        
        
    <link rel="stylesheet" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;" href="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism.min.css">
<noscript><link rel="stylesheet" href="https://cdn.freecodecamp.org/news-assets/prism-1-16-0/prism.min.css"></noscript>
<link rel="stylesheet" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;" href="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-unescaped-markup.css">
<noscript><link rel="stylesheet" href="https://cdn.freecodecamp.org/news-assets/prism-1-16-0/prism-unescaped-markup.css"></noscript>

<script type="text/javascript" async="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/analytics.js.download"></script><script async="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/gtm.js.download"></script><script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-unescaped-markup.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-markup-templating.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-bash.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-c.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-clojure.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-cpp.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-csharp.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-css.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-docker.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-elixir.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-erlang.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-git.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-go.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-graphql.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-haskell.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-java.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-javascript.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-json.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-jsx.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-kotlin.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-lua.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-markup.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-php.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-python.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-r.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-ruby.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-rust.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-scala.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-sql.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-swift.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-typescript.min.js.download"></script>
<script defer="" type="text/javascript" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/prism-yaml.min.js.download"></script>



        
        <link rel="stylesheet" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;" href="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/global-e42e31c0f5.css">
        <link rel="stylesheet" type="text/css" href="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/screen-8ade484d48.css">
        <link rel="stylesheet" type="text/css" href="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/search-bar-124f5f949c.css">

        
        <script defer="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/algoliasearch.min.js.download"></script>
        <script defer="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/autocomplete.min.js.download"></script>

        
        <script defer="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/dayjs.min.js.download"></script>
        <script defer="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/localizedFormat.min.js.download"></script>
        <script defer="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/relativeTime.min.js.download"></script>

        
        
            <script defer="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/en.min.js.download"></script>
        

        
        <script>let client,index;document.addEventListener("DOMContentLoaded",(()=>{client=algoliasearch("QMJYL5WYTI","89770b24481654192d7a5c402c6ad9a0"),index=client.initIndex("news")})),document.addEventListener("DOMContentLoaded",(()=>{const e=window.screen.width,t=window.screen.height,n=e>=767&&t>=768?8:5,o=document.getElementById("search-form"),s=document.getElementById("search-input"),a=document.getElementById("dropdown-container");let i,d,l;s.addEventListener("input",(e=>{i=e.target.value})),o.addEventListener("submit",(e=>{e.preventDefault(),function(){if(d=document.getElementsByClassName("aa-cursor")[0],d&&i){const e=d.querySelector("a").href;window.location.assign(e)}else!d&&i&&l&&window.location.assign(`https://www.freecodecamp.org/news/search?query=${i}`)}()}));const c=autocomplete("#search-input",{hint:!1,keyboardShortcuts:["s",191],openOnFocus:!0,appendTo:a,debug:!0},[{source:autocomplete.sources.hits(index,{hitsPerPage:n}),debounce:250,templates:{suggestion:e=>(l=!0,`\n            <a href="${e.url}">\n              <div class="algolia-result">\n                <span>${e._highlightResult.title.value}</span>\n              </div>\n            </a>\n          `),empty:()=>(l=!1,'\n            <div class="aa-suggestion footer-suggestion no-hits-footer">\n              <div class="algolia-result">\n                <span>\n                  No tutorials found\n                </span>\n              </div>\n            </div>\n          '),footer:e=>{if(!e.isEmpty)return`\n              <div class="aa-suggestion footer-suggestion">\n                <a id="algolia-footer-selector" href="https://www.freecodecamp.org/news/search?query=${i}">\n                  <div class="algolia-result algolia-footer">\n                    See all results for ${i}\n                  </div>\n                </a>\n              </div>\n            `}}}]).on("autocomplete:selected",((e,t,n,o)=>{d=t?t.url:`https://www.freecodecamp.org/news/search?query=${i}`,"click"!==o.selectionMethod&&"tabKey"!==o.selectionMethod&&l&&window.location.assign(d)}));document.addEventListener("click",(e=>{e.target!==s&&c.autocomplete.close()}))})),document.addEventListener("DOMContentLoaded",(()=>{dayjs.extend(dayjs_plugin_localizedFormat),dayjs.extend(dayjs_plugin_relativeTime),dayjs.locale("en")}));</script>

        
        
    
        <script data-ad-client="ca-pub-9482786369113753" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/f.txt" crossorigin="anonymous" async=""></script>
        <script defer="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/toggle-ad-layout-e19630d847.js.download"></script>
    


        
        
    <script defer="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/fitvids-7eb2ff3cd7.js.download"></script>
    
    <script>document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".post-full-content");t&&fitVids(t)}));</script>


        
        

        <link rel="icon" href="https://cdn.freecodecamp.org/universal/favicons/favicon.ico" type="image/png">
        
        
            <link rel="canonical" href="https://www.freecodecamp.org/news/spring-boot-tutorial-build-fast-modern-java-app/">
        
        <meta name="referrer" content="no-referrer-when-downgrade">

        

        
    <link rel="amphtml" href="https://www.freecodecamp.org/news/spring-boot-tutorial-build-fast-modern-java-app/amp/">
    <meta name="description" content="In this article I am going to walk you through building a prototype with Spring Boot. Think of it like building a project for a hackathon or a prototype for your startup in limited time.  In other words, we are not trying to build something perfect – but rather">

    
    <meta property="og:site_name" content="freeCodeCamp.org">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Spring Boot Tutorial – How to Build Fast and Modern Java Apps">
    
        <meta property="og:description" content="In this article I am going to walk you through building a prototype with Spring Boot. Think of it like building a project for a hackathon or a prototype for your startup in limited time.  In other words, we are not trying to build something perfect – but rather">
    
    <meta property="og:url" content="https://www.freecodecamp.org/news/spring-boot-tutorial-build-fast-modern-java-app/">
    <meta property="og:image" content="https://www.freecodecamp.org/news/content/images/2021/09/pexels-ramdas-ware-102896.jpg">
    <meta property="article:published_time" content="2021-09-20T19:43:06.000Z">
    <meta property="article:modified_time" content="2021-09-20T19:43:06.000Z">
    
        <meta property="article:tag" content="Spring Boot">
    
        <meta property="article:tag" content="Spring Security">
    
        <meta property="article:tag" content="Java">
    
        <meta property="article:tag" content="Database">
    
    <meta property="article:publisher" content="https://www.facebook.com/freecodecamp">
    

    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Spring Boot Tutorial – How to Build Fast and Modern Java Apps">
    
        <meta name="twitter:description" content="In this article I am going to walk you through building a prototype with Spring Boot. Think of it like building a project for a hackathon or a prototype for your startup in limited time.  In other words, we are not trying to build something perfect – but rather">
    
    <meta name="twitter:url" content="https://www.freecodecamp.org/news/spring-boot-tutorial-build-fast-modern-java-app/">
    <meta name="twitter:image" content="https://www.freecodecamp.org/news/content/images/2021/09/pexels-ramdas-ware-102896.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Yiğit Kemal Erinç">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Spring Boot, Spring Security, Java, Database">
    <meta name="twitter:site" content="@freecodecamp">
    
        <meta name="twitter:creator" content="@erinccodes">
    

    <meta property="og:image:width" content="2000">
    <meta property="og:image:height" content="1125">


        
    <script type="application/ld+json">{
	"@context": "https://schema.org",
	"@type": "Article",
	"publisher": {
		"@type": "Organization",
		"name": "freeCodeCamp.org",
		"url": "https://www.freecodecamp.org/news/",
		"logo": {
			"@type": "ImageObject",
			"url": "https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg",
			"width": 2100,
			"height": 240
		}
	},
	"image": {
		"@type": "ImageObject",
		"url": "https://www.freecodecamp.org/news/content/images/2021/09/pexels-ramdas-ware-102896.jpg",
		"width": 2000,
		"height": 1125
	},
	"url": "https://www.freecodecamp.org/news/spring-boot-tutorial-build-fast-modern-java-app/",
	"mainEntityOfPage": {
		"@type": "WebPage",
		"@id": "https://www.freecodecamp.org/news/"
	},
	"datePublished": "2021-09-20T19:43:06.000Z",
	"dateModified": "2021-09-20T19:43:06.000Z",
	"keywords": "Spring Boot, Spring Security, Java, Database",
	"description": "In this article I am going to walk you through building a prototype with Spring\nBoot. Think of it like building a project for a hackathon or a prototype for\nyour startup in limited time. \n\nIn other words, we are not trying to build something perfect – but rather\nsomething that works.\n\nIf you get stuck in any part of this tutorial or if I have forgotten to mention\nsomething, you can check out the GitHub repository I have included in the \nConclusion.\n\nPrerequisites\n * Foundations of Java and OOP\n ",
	"headline": "Spring Boot Tutorial – How to Build Fast and Modern Java Apps",
	"author": {
		"@type": "Person",
		"name": "Yiğit Kemal Erinç",
		"url": "https://www.freecodecamp.org/news/author/erinc/",
		"sameAs": [
			"https://erinc.io",
			"https://twitter.com/erinccodes"
		],
		"image": {
			"@type": "ImageObject",
			"url": "https://www.freecodecamp.org/news/content/images/2020/08/ben.jpg",
			"width": 400,
			"height": 400
		}
	}
}</script>


        <meta name="generator" content="Eleventy">
        <link rel="alternate" type="application/rss+xml" title="freeCodeCamp.org" href="https://www.freecodecamp.org/news/rss/">

        <link rel="preconnect" href="https://fonts.gstatic.com/">

<!-- Web Monetization (https://webmonetization.org/) -->
<meta name="monetization" content="$ilp.uphold.com/LJmbPn7WD4JB">
<!-- end Web Monetization -->


<!-- GAP -->

<!-- end of GAP -->

<!-- Google Tag Manager -->
<link rel="preconnect" href="https://www.googletagmanager.com/">
<script>
  // Set up dataLayer with data if provided
  window.dataLayer = window.dataLayer || [{ gaPropertyId: 'UA-55446531-20' }];

  // Initialized GTM via gtag
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-55446531-20');

  // Configure and initialize GTM
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl+'&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer', 'GTM-5D6RKKP');
</script>
<!-- End Google Tag Manager -->


<meta name="google-site-verification" content="b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E">

        
    <style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style><style>@media print {#ghostery-tracker-tally {display:none !important}}</style><script src="chrome-extension://mooikfkahbdckldjjndioackbalphokd/assets/prompt.js"></script></head>
    
    
        <body class="home-template" data-new-gr-c-s-check-loaded="14.1049.0" data-gr-ext-installed="">
    
        <div class="site-wrapper">
            <nav class="site-nav nav-padding">
    <div class="site-nav-left">
        <form id="search-form" data-test-label="search-bar">
  <div role="search" class="searchbox__wrapper">
    <label class="fcc_sr_only" for="search-input">
      Search
    </label>
    <input type="search" placeholder="Search 8,000+ tutorials" id="search-input" class="aa-input" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style=""><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Lato, sans-serif; font-size: 18px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre>
    <button type="submit" class="ais-SearchBox-submit">
      <svg class="ais-SearchBox-submitIcon" xmlns="https://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 40 40">
    <path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"></path>
</svg>

      <span class="fcc_sr_only">Submit your search query</span>
    </button>
    <div id="dropdown-container"><span class="algolia-autocomplete" style="position: absolute; z-index: 100; display: none; direction: ltr;"><span class="aa-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="display: block; left: 0px; right: auto;"><div class="aa-dataset-1"></div></span></span></div>
  </div>
</form>

    </div>
    <div class="site-nav-middle">
        <a class="site-nav-logo" href="https://www.freecodecamp.org/news"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/fcc_primary.svg" alt="freeCodeCamp.org"></a>
    </div>
    <div class="site-nav-right">
        <div class="nav-group">
            <a class="nav-forum" id="nav-forum" rel="noopener noreferrer" href="https://forum.freecodecamp.org/" target="_blank" data-test-label="forum-button">Forum</a>
            <a class="toggle-button-nav" id="nav-donate" rel="noopener noreferrer" href="https://www.freecodecamp.org/donate/" target="_blank" data-test-label="donate-button">Donate</a>
        </div>
    </div>
</nav>


            
            <a class="banner" id="banner" data-test-label="banner" rel="noopener noreferrer" href="https://www.freecodecamp.org/" target="_blank">
    <p>
        Learn to code — <span>free 3,000-hour curriculum</span>
    </p>
</a>


            <div id="error-message"></div>

            
    <main id="site-main" class="post-template site-main outer">
        <div class="inner ad-layout">
            <article class="post-full post ">
                <header class="post-full-header">
                    <section class="post-full-meta">
                        <time class="post-full-meta-date" datetime="Mon Sep 20 2021 19:43:06 GMT+0000 (Coordinated Universal Time)">
                            September 20, 2021
                        </time>
                        
                            <span class="date-divider">/</span>
                            <a href="https://www.freecodecamp.org/news/tag/spring-boot/">
                                #Spring Boot
                            </a>
                        
                    </section>
                    <h1 class="post-full-title">Spring Boot Tutorial – How to Build Fast and Modern Java Apps</h1>
                </header>
                <div class="post-full-author-header">
                    
                        
                            
    
    

    <section class="author-card">
        
            
    <img srcset="https://www.freecodecamp.org/news/content/images/size/w60/2020/08/ben.jpg 60w" sizes="60px" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/ben.jpg" class="author-profile-image" alt="Yiğit Kemal Erinç" width="400" height="400" onerror="this.style.display=&#39;none&#39;">
  
        

        <section class="author-card-content author-card-content-no-bio">
            <span class="author-card-name">
                <a href="https://www.freecodecamp.org/news/author/erinc/">
                    
                        Yiğit Kemal Erinç
                    
                </a>
            </span>
            
        </section>
    </section>

                        
                    
                </div>
                
                    <figure class="post-full-image">
                        
    <picture>
      <source media="(max-width: 700px)" sizes="1px" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w">
      <source media="(min-width: 701px)" sizes="(max-width: 800px) 400px, (max-width: 1170px) 700px, 1400px" srcset="https://www.freecodecamp.org/news/content/images/size/w300/2021/09/pexels-ramdas-ware-102896.jpg 300w,https://www.freecodecamp.org/news/content/images/size/w600/2021/09/pexels-ramdas-ware-102896.jpg 600w,https://www.freecodecamp.org/news/content/images/size/w1000/2021/09/pexels-ramdas-ware-102896.jpg 1000w,https://www.freecodecamp.org/news/content/images/size/w2000/2021/09/pexels-ramdas-ware-102896.jpg 2000w">
      <img onerror="this.style.display=&#39;none&#39;" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/pexels-ramdas-ware-102896.jpg" alt="Spring Boot Tutorial – How to Build Fast and Modern Java Apps" ,="" width="2000" height="1125">
    </picture>
  
                    </figure>
                
                <section class="post-full-content">
                    <div class="post-and-sidebar">
                        <section class="post-content ">
                            
<p>In this article I am going to walk you through building a prototype with Spring Boot. Think of it like building a project for a hackathon or a prototype for your startup in limited time. </p><p>In other words, we are not trying to build something perfect – but rather something that works.</p><p>If you get stuck in any part of this tutorial or if I have forgotten to mention something, you can check out the GitHub repository I have included in the <strong>Conclusion</strong>.</p><h3 id="prerequisites">Prerequisites</h3><ul><li>Foundations of Java and OOP</li><li>Basic knowledge of relational databases (one-to-many, many-to-many, and so on)</li><li>Fundamentals of Spring would be helpful</li><li>Basic level HTML</li></ul><p>Also make sure you have the following:</p><ul><li><a href="https://www.oracle.com/java/technologies/javase-downloads.html">JDK (Java Development Kit)</a> latest</li><li><a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> or some other Java IDE</li></ul><h2 id="what-are-we-building">What are we building?</h2><p>We will build an amenity reservation system where users will log in and reserve a time to use a service such as fitness center, pool, or sauna. </p><p>Each amenity will have a certain capacity (number of people that can use the service at the same time) so that people can make use of the amenities safely during the Covid-19 pandemic.</p><h3 id="list-of-features-for-the-app">List of Features for the App</h3><p>We can think of our app as the reservation system for an apartment complex. </p><ul><li>Users should be able to log in.</li><li>We will assume that the accounts of residents are pre-created and there will be no sign-up feature.</li><li>Users should be able to view their reservations. </li><li>Users should be able to create new reservations by selecting the amenity type, date, and time.</li><li><strong>Only logged-in</strong> <strong>users</strong> should be able to see the reservations page and create reservations.</li><li>We should check the capacity and only create new reservations if the current number of reservations does not exceed the capacity.</li></ul><h3 id="technologies-we-ll-use">Technologies We'll Use</h3><p>We will learn about a lot of useful technologies that will make you more efficient as a Spring Boot developer. I will briefly mention what they are and what they are good for and then we will see them in action.</p><ul><li>Bootify</li><li>Hibernate</li><li>Spring Boot</li><li>Maven</li><li>JPA</li><li>Swagger</li><li>H2 In-Memory Database</li><li>Thymeleaf</li><li>Bootstrap</li><li>Spring Security</li></ul><h2 id="why-spring-boot">Why Spring Boot?</h2><p>The Spring framework is generally used for enterprise level/large scale jobs. It is not usually the first option that comes to mind for smaller projects – but I will argue that it can be quite fast for prototyping. </p><p>It has the following advantages:</p><ul><li>Annotation-based development generates a lot of code for you behind the scenes. And especially with the availability of libraries like Lombok, it has became a lot easier to focus on the business logic.</li><li>It has nice in-memory database support, so that we don't need to create a real database and connect to it. (H2)</li><li>It has a mature ecosystem so you can readily find answers to most questions.</li><li>Almost "no configuration" is required. With the help of Spring Boot, we get rid of ugly XML configurations on the Spring side of things and configuring your application is really easy.</li><li>There's a lot happening behind the scenes. Spring provides so much magic and does so many things to get things going. So you don't usually need to care about that stuff and can just let the framework handle things.</li><li>We have <a href="https://github.com/spring-projects/spring-security">Spring Security.</a> Having one of the most comprehensive, battle-tested security frameworks on your side gives you more confidence in the security of your application. It also takes care of a good share of the hard work for you.</li></ul><h2 id="how-to-create-the-project-with-bootify">How to Create the Project with Bootify</h2><p>To create the project, you will use <a href="https://bootify.io/"><strong>Bootify</strong></a>. It's a freemium service that makes Spring Boot development faster by generating a lot of boilerplate code for you and letting you focus on business logic instead.</p><p><strong>Bootify</strong> allows us to specify our preferences and automatically imports the dependencies similar to <strong>Spring Initializr</strong>. </p><p>But there is more than that. You can also specify your entities and it will generate the corresponding model and DTO classes. It can even generate the service and controller level code for common <strong>CRUD</strong> operations.</p><p>I believe it is a more convenient tool for API development than it is for MVC apps since it generates REST API code by default. But it will still make our lives easier even with a Spring Boot MVC application that contains views. We will just need to make some adjustments to the generated code.</p><p>Let's open the <strong>Bootify</strong> website and click the "Start Project" button at the top right corner.</p><p>You should select:</p><ul><li><strong>Maven</strong> as the build type</li><li>Java version: 14</li><li>Tick enable <strong>Lombok</strong></li><li>DBMS: <strong>H2</strong> database</li><li>Tick <strong>add</strong> <strong>dateCreated/lastUpdated</strong> to entities</li><li>Packages: Technical</li><li>Enable <strong>OpenAPI/Swagger UI</strong></li><li>Add <strong>org.springframework.boot:spring-boot-devtools</strong> to further dependencies</li></ul><p>After you are done, you should see this:</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/screencapture-bootify-io-app-8U9U2BBTLEAX-2021-04-09-16_06_29-1024x754.png" class="kg-image" alt="screencapture-bootify-io-app-8U9U2BBTLEAX-2021-04-09-16_06_29-1024x754" width="1024" height="754" loading="lazy"></figure><p>Now let's specify our entities. Start by clicking the <strong>Entities</strong> tab on the left menu.</p><p>We will have the following entities and relations:</p><ol><li><strong>Reservation</strong> that contains the data related to each reservation such as reservation date, reservation starting time, ending time, and the user who owns this reservation.</li><li>The <strong>User</strong> entity that contains our user model and will have relations with <strong>Reservation</strong>.</li><li>The <strong>Amenity</strong> entity to hold the type of Amenity and its capacity (maximum number of reservations for a certain time, for example 2 people can use and reserve the Sauna for the same time).</li></ol><p>Let's define our <strong>Reservation</strong> entity as follows and keep "Add REST endpoints" checked (even though we will modify the output). Then click the Save button.</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-1-1024x577.png" class="kg-image" alt="image-1-1024x577" width="1024" height="577" loading="lazy"></figure><p>We will specify the relations later, so the only field that our user entity has is the id field.</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-1024x445.png" class="kg-image" alt="image-1024x445" width="1024" height="445" loading="lazy"></figure><p>We could create an entity for Amenities to store the data of the amenity name and its capacity and then we could reference it from the <strong>Reservation</strong>. But the relationship between Amenity and Reservation would be one-to-one. </p><p>So instead, for the sake of simplicity, we will create an enum called <strong>AmenityType</strong> and store the <strong>AmenityType</strong> inside <strong>Reservation</strong>.</p><p>Now let's create a relationship between the <strong>User</strong> and <strong>Reservation</strong> entities by clicking the + button next to the <strong>Relations</strong> menu.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-2.png" class="kg-image" alt="image-2" width="546" height="696" loading="lazy"><figcaption>Menu to create relations</figcaption></figure><p>It will be a <strong>Many-to-one</strong> relationship since a user can have many reservations but a reservation must have one and only one user. We will make sure this is the case by checking the required box.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-3-1024x507.png" class="kg-image" alt="image-3-1024x507" width="1024" height="507" loading="lazy"><figcaption>User-Reservation Relation</figcaption></figure><p>We click "Save Changes" and we are done. Your final model should look like this:</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-4-1024x481.png" class="kg-image" alt="image-4-1024x481" width="1024" height="481" loading="lazy"></figure><p>Now click the download button on the left menu to download the generated project code so we can start working on it. You can see the first commit on the project repository to compare with yours if you have any problems.</p><p>After you download the project, open it in an IDE – I'll use <strong>IntelliJ IDEA</strong>. Your file structure should look like this:</p><pre><code>├── amenity-reservation-system.iml
├── mvnw
├── mvnw.cmd
├── pom.xml
├── src
│&nbsp;&nbsp; └── main
│&nbsp;&nbsp;     ├── java
│&nbsp;&nbsp;     │&nbsp;&nbsp; └── com
│&nbsp;&nbsp;     │&nbsp;&nbsp;     └── amenity_reservation_system
│&nbsp;&nbsp;     │&nbsp;&nbsp;         ├── AmenityReservationSystemApplication.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         ├── HomeController.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         ├── config
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── DomainConfig.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── JacksonConfig.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; └── RestExceptionHandler.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         ├── domain
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── Reservation.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; └── User.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         ├── model
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── ErrorResponse.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── FieldError.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── ReservationDTO.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; └── UserDTO.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         ├── repos
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── ReservationRepository.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; └── UserRepository.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         ├── rest
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── ReservationController.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         │&nbsp;&nbsp; └── UserController.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;         └── service
│&nbsp;&nbsp;     │&nbsp;&nbsp;             ├── ReservationService.java
│&nbsp;&nbsp;     │&nbsp;&nbsp;             └── UserService.java
│&nbsp;&nbsp;     └── resources
│&nbsp;&nbsp;         └── application.yml
└── target
    ├── classes
    │&nbsp;&nbsp; ├── application.yml
    │&nbsp;&nbsp; └── com
    │&nbsp;&nbsp;     └── amenity_reservation_system
    │&nbsp;&nbsp;         ├── AmenityReservationSystemApplication.class
    │&nbsp;&nbsp;         ├── HomeController.class
    │&nbsp;&nbsp;         ├── config
    │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── DomainConfig.class
    │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── JacksonConfig.class
    │&nbsp;&nbsp;         │&nbsp;&nbsp; └── RestExceptionHandler.class
    │&nbsp;&nbsp;         ├── domain
    │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── Reservation.class
    │&nbsp;&nbsp;         │&nbsp;&nbsp; └── User.class
    │&nbsp;&nbsp;         ├── model
    │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── ErrorResponse.class
    │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── FieldError.class
    │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── ReservationDTO.class
    │&nbsp;&nbsp;         │&nbsp;&nbsp; └── UserDTO.class
    │&nbsp;&nbsp;         ├── repos
    │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── ReservationRepository.class
    │&nbsp;&nbsp;         │&nbsp;&nbsp; └── UserRepository.class
    │&nbsp;&nbsp;         ├── rest
    │&nbsp;&nbsp;         │&nbsp;&nbsp; ├── ReservationController.class
    │&nbsp;&nbsp;         │&nbsp;&nbsp; └── UserController.class
    │&nbsp;&nbsp;         └── service
    │&nbsp;&nbsp;             ├── ReservationService.class
    │&nbsp;&nbsp;             └── UserService.class
    └── generated-sources
        └── annotations</code></pre><h2 id="how-to-test-and-explore-the-generated-code">How to Test and Explore the Generated Code</h2><p>Let's take our time to experiment with the generated code and understand it layer by layer.</p><p>The<strong> Repos</strong> folder contains the code for the data access layer, namely our repositories. We will use <strong>JPA</strong> methods to retrieve our data, which are pre-made query methods you can use by defining them inside the repository interface. </p><p>Notice that our repository classes extend the <strong>JpaRepository</strong> interface. This is the interface that allows us to use the mentioned methods. </p><p>JPA queries follow a certain convention, and when we create the method that obeys the conventions, it will automatically know what data you want to retrieve, behind the scenes. If you don't yet get it, do not worry, we will see examples.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-5-1024x719.png" class="kg-image" alt="image-5-1024x719" width="1024" height="719" loading="lazy"><figcaption>Example keywords, sample phrases and their corresponding JPQL snippets (queries)</figcaption></figure><p>The <strong>Model</strong> classes present our data model, and which classes will have which fields. </p><p>Each model class corresponds to a database table with the same name and the fields in the model class will be columns in the corresponding table. </p><p>Notice the annotation <strong>@Entity</strong> on top of our model classes. This annotation is handled by <a href="https://hibernate.org/"><strong>Hibernate</strong></a> and whenever Hibernate sees <strong>@Entity</strong>,<strong> </strong>it will create a table using the name of our class as table name. </p><p>If you are wondering, "What is Hibernate anyways?", it is an <strong>object-relational-mapping</strong> (ORM) tool for Java that allows us to map the <strong>POJOs</strong> (Plain Old Java Object) to database tables. It can also provide features such as data validation constraints, but we will not go deep into Hibernate in this post since it is a vast topic on its own. </p><p>An awesome feature of Hibernate is that it handles all table creation and deletion operations so you don't have to use additional <strong>SQL</strong> scripts.</p><p>We also represent the relationships between objects in model classes. To see an example, take a look at our <strong>User</strong> class:</p><pre class=" language-java"><code class=" language-java">    <span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>mappedBy <span class="token operator">=</span> <span class="token string">"user"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Reservation</span><span class="token punctuation">&gt;</span></span> userReservations<span class="token punctuation">;</span></code></pre><p>It has a <strong>userReservations</strong> object that holds a set of references that resembles the reservations of this particular user. In the <strong>Reservation</strong> class we have the reverse-relation as:</p><pre class=" language-java"><code class=" language-java"><span class="token annotation punctuation">@ManyToOne</span><span class="token punctuation">(</span>fetch <span class="token operator">=</span> <span class="token class-name">FetchType</span><span class="token punctuation">.</span>LAZY<span class="token punctuation">)</span>
<span class="token annotation punctuation">@JoinColumn</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"user_id"</span><span class="token punctuation">,</span> nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">User</span> user<span class="token punctuation">;</span></code></pre><p>Having references on both sides makes it possible to access the other side of the relationship (user object to reservation and vice versa).</p><p><strong>Controllers</strong> will handle the requests that are passed to this controller by the request handler and return the corresponding views, in this case. </p><p>The controllers that were generated by Bootify are configured to return JSON responses, and we will modify them in the next section to return our views.</p><p><strong>Services</strong> will hold the logic of our application. The best practice is to keep controllers thin by keeping the business logic in a separate place, the service classes. </p><p>Controllers should not interact with the repositories directly, but instead call the service which will interact with the repository, perform any additional operation, and return the result to the controller.</p><h3 id="let-s-try-out-the-api">Let's Try Out the API</h3><p>Now, let's get to the fun part and try our API to see it on action. Run the Spring application on your favorite IDE. Open your browser and go to this address:</p><pre><code>http://localhost:8080/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config#/</code></pre><p>Swagger automatically documents our code and allows you to send requests easily. You should be seeing this:</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/screencapture-localhost-8080-swagger-ui-index-html-2021-04-17-21_27_48-1024x914.png" class="kg-image" alt="screencapture-localhost-8080-swagger-ui-index-html-2021-04-17-21_27_48-1024x914" width="1024" height="914" loading="lazy"></figure><p>Let's first create a user by sending a <strong>POST</strong> request to <strong>UserController</strong>. We will do that by clicking the last box (the green one) under user-controller list.</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/Screen-Shot-2021-04-17-at-21.30.41-1024x565.png" class="kg-image" alt="Screen-Shot-2021-04-17-at-21.30.41-1024x565" width="1024" height="565" loading="lazy"></figure><p><strong>Swagger</strong> shows us the parameters that this endpoint expects – only the id for now – and also the responses that the API returns. </p><p>Click the "Try it out" button at the top right corner. It asks you to enter an id. I know it is nonsense and the code will not even use this id you enter, but we will fix that in the next section (it is just a problem with the generated code). </p><p>For the sake of experimenting, enter any number, like 1 for the id, and click the execute button.</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/screencapture-localhost-8080-swagger-ui-index-html-2021-04-17-21_39_32-547x1024.png" class="kg-image" alt="screencapture-localhost-8080-swagger-ui-index-html-2021-04-17-21_39_32-547x1024" width="547" height="1024" loading="lazy"></figure><p>The response body contains the id of the created object. We can confirm that it is created on the database by checking the H2 console. </p><p>But before doing that, we need to make a minor adjustment to the <strong>application.yml</strong> file which contains the application settings and configuration. Open your <strong>application.yml</strong> file and paste in the following code:</p><pre><code>spring:
  datasource:
    url: ${JDBC_DATABASE_URL:jdbc:h2:mem:amenity-reservation-system}
    username: ${JDBC_DATABASE_USERNAME:sa}
    password: ${JDBC_DATABASE_PASSWORD:}
  dbcp2:
    max-wait-millis: 30000
    validation-query: "SELECT 1"
    validation-query-timeout: 30
  jpa:
    hibernate:
      ddl-auto: update
    open-in-view: false
    properties:
      hibernate:
        jdbc:
          lob:
            non_contextual_creation: true
        id:
          new_generator_mappings: true
springdoc:
  pathsToMatch: /api/**</code></pre><p>Then we should be able to access the H2 console by going to this address:</p><pre><code>http://localhost:8080/h2-console/</code></pre><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-6-1024x724.png" class="kg-image" alt="image-6-1024x724" width="1024" height="724" loading="lazy"></figure><p>Here you need to check that the username is "sa" and click the Connect button.</p><p>Click the USER table on the left menu and the console will write the select all query for you.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-7-1024x573.png" class="kg-image" alt="image-7-1024x573" width="1024" height="573" loading="lazy"><figcaption>H2 Admin Panel</figcaption></figure><p>Let's click the <strong>Run</strong> button that is above the query.</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-8-1024x466.png" class="kg-image" alt="image-8-1024x466" width="1024" height="466" loading="lazy"></figure><p>We can see that the <strong>User</strong> object is indeed created – great!</p><p>We already have a working API at this point and we have not written a single line of code.</p><h3 id="how-to-adjust-the-code-for-our-use-case">How to Adjust the Code for our Use Case</h3><p>As I mentioned earlier, the generated code does not fully suit our use case and we need to make some adjustments to it. </p><p>Let's remove the model folder which contains DTOs and stuff that we will not use. We will show the data inside views instead.</p><pre><code>cd src/main/java/com/amenity_reservation_system/ 
rm -rf model</code></pre><p>We will have a lot of errors now since the code uses the DTO classes, but we will get rid of most of it after removing the controller classes. </p><p>We will delete the controllers because we do not want to expose the functionality of modifying our data anymore. Our users should be able to do that by interacting with our UI, and we will create new controllers to return the view components in the next section.</p><pre><code>rm -rf rest</code></pre><p>Finally, we need to do some refactoring to our service classes since the DTO classes are not present anymore:</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>domain</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">UserRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream</span><span class="token punctuation">.</span><span class="token class-name">Collectors</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http</span><span class="token punctuation">.</span><span class="token class-name">HttpStatus</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Service</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>server</span><span class="token punctuation">.</span><span class="token class-name">ResponseStatusException</span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userRepository <span class="token operator">=</span> userRepository<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ResponseStatusException</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>NOT_FOUND<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Long</span> id<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">User</span> existingUser <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ResponseStatusException</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>NOT_FOUND<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userRepository<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>We basically removed the DTO-related code from the <strong>UserService</strong> class and replaced the return types with <strong>User</strong>. Let's do the same for <strong>ReservationService</strong>.</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>domain</span><span class="token punctuation">.</span><span class="token class-name">Reservation</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>domain</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">ReservationRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">UserRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream</span><span class="token punctuation">.</span><span class="token class-name">Collectors</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http</span><span class="token punctuation">.</span><span class="token class-name">HttpStatus</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Service</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>server</span><span class="token punctuation">.</span><span class="token class-name">ResponseStatusException</span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReservationService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ReservationRepository</span> reservationRepository<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ReservationService</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">ReservationRepository</span> reservationRepository<span class="token punctuation">,</span>
            <span class="token keyword">final</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reservationRepository <span class="token operator">=</span> reservationRepository<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userRepository <span class="token operator">=</span> userRepository<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Reservation</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> reservationRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Reservation</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> reservationRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ResponseStatusException</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>NOT_FOUND<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Reservation</span> reservation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> reservationRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>reservation<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Long</span> id<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">Reservation</span> reservation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">Reservation</span> existingReservation <span class="token operator">=</span> reservationRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ResponseStatusException</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>NOT_FOUND<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        reservationRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>reservation<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        reservationRepository<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre><p>Let's also remove the config classes:</p><pre><code>rm -rf config</code></pre><p>And rename the domain folder to model. If you are using an IDE, I strongly advise that you use your IDE's rename functionality to rename this folder since it will automatically rename the imports to match the new package name.</p><pre><code>mv domain model</code></pre><p>Also, make sure that your model classes (<strong>User</strong> and <strong>Reservation</strong>) have the right package name after this operation. The first line of these two files should be:</p><pre><code>package com.amenity_reservation_system.model;</code></pre><p>If it stays as domain package, you may have errors.</p><p>At this point, you should be able to compile and run the project without any problems.</p><h2 id="how-to-create-the-controllers-and-view-files-to-show-data">How to Create the Controllers and View Files to Show Data</h2><p><strong>Thymeleaf</strong> is a template engine for Spring that allows us to create UIs and display our model data to the users. </p><p>We can access the Java objects inside the Thymeleaf template, and we can also use plain old HTML, CSS and JavaScript. If you know about JSPs, this is JSP on steroids.</p><p>Let's create some Thymeleaf templates that will not do anything but show the data for now. We will style them in the next section. We will also create the controllers that will return these views.</p><p>Before getting started with the Thymeleaf templates, we need to add a Maven dependency for Spring Boot Thymeleaf. Your dependencies should look like this in your <strong>pom.xml</strong> file:</p><pre class=" language-xml"><code class=" language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
        <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.4.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span> <span class="token punctuation">/&gt;</span></span><span class="token comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>amenity-reservation-system<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>amenity-reservation-system<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-validation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-jpa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.h2database<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>h2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springdoc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>springdoc-openapi-ui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.5.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>You can just copy and paste the inner content of the dependencies tag. Now let's tell Maven to install the dependencies:</p><pre><code>mvn clean install</code></pre><p>We are now ready to create our views. Let's create a directory under resources to hold our view template files like this:</p><pre><code>cd ../../../resources
mkdir templates</code></pre><p>And create a view file:</p><pre><code>cd templates
touch index.html</code></pre><p>Copy and paste the following snippet into it. This file will be our home page in the future.</p><pre><code>&lt;!DOCTYPE HTML&gt;
&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"/&gt;
    &lt;title&gt;Amenities Reservation App&lt;/title&gt;

    &lt;link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} "/&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div&gt;
hello world!
&lt;/div&gt;

&lt;script th:src="@{/webjars/jquery/3.0.0/jquery.min.js}"&gt;&lt;/script&gt;
&lt;script th:src="@{/webjars/popper.js/1.12.9-1/umd/popper.min.js}"&gt;&lt;/script&gt;
&lt;script th:src="@{/webjars/bootstrap/4.0.0-2/js/bootstrap.min.js}"&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre><p>We also need to create a controller that will return us this view so we can see it in the browser.</p><pre><code>cd ../java/com/amenity_reservation_system
mkdir controller &amp;&amp; cd controller
touch HomeController</code></pre><p>Paste this code into the HomeController:</p><pre><code>package com.amenity_reservation_system.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ResponseBody;


@Controller
public class HomeController {

    @GetMapping("/")
    public String index(Model model) {

        return "index";
    }
}
</code></pre><p>Notice how we annotate our method with<strong> @Controller</strong> instead of <strong>@RestController</strong> this time. The @RestController annotation implies that the controller will return a REST response whereas a <strong>@Controller</strong> can return pre-rendered (SSR) views/HTML.</p><p>When a request arrives in our application, Spring will automatically run this controller method. Then it will find the <strong>index.html</strong> file we previously created under the resources and send that file to the client.</p><p>Let's confirm that it is working by sending a request to our application. Do not forget to restart first, then send this request:</p><pre><code>GET localhost:8080</code></pre><p>You should be able to see the Hello World message on the browser.</p><h2 id="how-to-define-different-types-of-amenities">How to Define Different Types of Amenities</h2><p>We have the <strong>Reservation</strong> class but we have not created a way to specify which type of amenity is getting reserved (the pool, sauna, or gym).</p><p>There are multiple ways to do this. One of them would be to create an entity called Amenity to store shared data among entities. Then we'd create <strong>PoolAmenity</strong>, <strong>SaunaAmenity</strong>, and <strong>GymAmenity</strong> classes which would then extend the Amenity class. </p><p>This is a nice and extendable solution but it feels a bit like overkill for our simple application, since we do not have much data specific to the amenity type. We are only going to have a capacity for each amenity type.</p><p>To keep things simple and not to bother ourselves with table inheritance and other complicated stuff, let's just create an enum to indicate the amenity type as a String and let each reservation have one of these.</p><p>Let's switch to the model directory from the controller directory and create the enum for <strong>AmenityType</strong>:</p><pre><code>cd ../model
touch AmenityType.java</code></pre><pre><code>public enum AmenityType {
    POOL("POOL"), SAUNA("SAUNA"), GYM("GYM");

    private final String name;

    private AmenityType(String value) {
        name = value;
    }

    @Override
    public String toString() {
        return name;
    }
}</code></pre><p>In this enum, we define a name variable to hold the name of the enum and create a private constructor to only allow a limited set of types. Notice that the type declarations call the constructor from within the class with their name values.</p><p>Now we need to modify the Reservation class to hold a reference to <strong>AmenityType</strong>:</p><pre class=" language-java"><code class=" language-java"><span class="token annotation punctuation">@Enumerated</span><span class="token punctuation">(</span><span class="token class-name">EnumType</span><span class="token punctuation">.</span>STRING<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">AmenityType</span> amenityType<span class="token punctuation">;</span></code></pre><p>We use the <strong>@Enumerated</strong> annotation to describe how we want to store the enum in our database. We'll also make it not nullable because every <strong>Reservation</strong> must have an <strong>AmenityType</strong>.</p><h2 id="how-to-show-a-user-s-reservations">How to Show a User's Reservations</h2><p>What is the most crucial feature for our app? Creating reservations and showing a user's reservations. </p><p>We do not have a way to authenticate users yet, so we can't really ask the user to login and then show their reservations. But we still want to implement and test the functionality to reserve an amenity and show reservations.</p><p>For that purpose, we can ask Spring to put some initial data into our database whenever the application runs. Then we can query that data to test if our queries actually work. We can then proceed to call these services from our <strong>Views</strong> and add authentication to our application in the next sections.</p><p>We will use a <strong>CommandLineRunner</strong> bean to run the initial code. Whenever Spring Container finds a bean of type CommandLineRunner it will run the code inside it. Before that step, let's add a few methods to our model classes to make object creation easier and less verbose.</p><p>Take a look at the model classes' annotations and you should see annotations like <strong>@Getter</strong> and <strong>@Setter</strong>. These are <strong>Lombok</strong> annotations.</p><p>Lombok is an annotation processor we can use to make our coding experience better by letting it generate code for us. When we annotate a class with <strong>@Getter</strong> and <strong>@Setter</strong>, it generates the getters and setters for each field of this class. </p><p>Spring uses getter and setter methods for many trivial operations behind the scenes so these are almost always required. And creating them for every entity easily becomes a hassle without the help of Lombok. </p><p>Lombok can do more than that though. We will also add the following annotations to our <strong>Reservation</strong> and <strong>User</strong> classes:</p><pre><code>@Builder
@NoArgsConstructor
@AllArgsConstructor</code></pre><p>With these annotations, Lombok implements the builder creational pattern for this class and also creates 2 constructors: One with no arguments (default constructor) and another one with all arguments. I think it is awesome that we can do so much by adding just a few annotations. </p><p>We are now ready to add some initial data. Go to your main class (<strong>AmenityReservationSystemApplication.java</strong>) and add this method:</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">AmenityType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">Reservation</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">ReservationRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">UserRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot</span><span class="token punctuation">.</span><span class="token class-name">CommandLineRunner</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot</span><span class="token punctuation">.</span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure</span><span class="token punctuation">.</span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Bean</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text</span><span class="token punctuation">.</span><span class="token class-name">DateFormat</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text</span><span class="token punctuation">.</span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">LocalDate</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">LocalTime</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">ZoneId</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Date</span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AmenityReservationSystemApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">AmenityReservationSystemApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">CommandLineRunner</span> <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">,</span>
                                      <span class="token class-name">ReservationRepository</span> reservationRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">User</span> user <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">DateFormat</span> dateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"dd/MM/yyyy HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Reservation</span> reservation <span class="token operator">=</span> <span class="token class-name">Reservation</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">reservationDate</span><span class="token punctuation">(</span>localDate<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">startTime</span><span class="token punctuation">(</span><span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">endTime</span><span class="token punctuation">(</span><span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">amenityType</span><span class="token punctuation">(</span><span class="token class-name">AmenityType</span><span class="token punctuation">.</span>POOL<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            reservationRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>reservation<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>If you get an error about saving operations such as "Inferred type 'S' for parameter ... does not match", it's because we renamed the domain directory to model. Go to the repository classes and fix the paths of imports to <strong>model.User</strong> and <strong>model.Reservation</strong>.</p><p>Notice how we used the <strong>builder pattern</strong> to create the reservation object easily. When the object creation gets complex and a constructor requires so many parameters, it's easy to forget the order of parameters or just mess up the order. </p><p>Without the builder pattern, we would either need to call a constructor with so many parameters or call the default constructor and write #properties code to call the setters.</p><p>After you are done, run your application again to insert the initial data and connect to <strong>H2 console</strong> as we learned before to confirm that our date is indeed inserted. If you do not have any errors, you should be able to see that the user and the reservation are inserted successfully.</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-9-1024x325.png" class="kg-image" alt="image-9-1024x325" width="1024" height="325" loading="lazy"></figure><p>We have inserted a reservation to be able to test the functionality to list the reservations but our views currently do not have a way to show the reservations and add reservations. We need to create the UI for that. </p><p>We do not have an authentication or sign-up mechanism yet, so act like the user with ID 10001 is logged in. Later we will improve on that by dynamically checking who is logged in and showing a different page if the user is not logged in.</p><h3 id="how-to-create-views-with-thymeleaf">How to Create Views with Thymeleaf</h3><p>Let's get started by creating a simple home page and a navbar for ourselves. We will use Thymeleaf fragments for the navbar code. </p><p>Thymeleaf fragments allow us to create reusable component-like structures similar to React/Vue components if you are familiar with them. Let's create a folder for our fragments under templates and call it fragments.</p><pre><code>mkdir fragments
touch nav.html</code></pre><p>We will put our navbar inside <strong>nav.html</strong> file. Copy and paste the following code:</p><pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar navbar-expand navbar-dark bg-primary<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-nav w-100<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-brand text-color<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Amenities Reservation System<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>It is not doing much in its current state, but we may add a login button or some links in the future. </p><p>Now let's create a simple home page that will serve the users that are not logged in. We will have our navbar fragment on top and have a login button to ask the user to log in before using the app.</p><figure class="kg-card kg-code-card"><pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Amenities Reservation App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name"><span class="token namespace">th:</span>rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} <span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fragments/nav :: nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-light<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>background-image: url('https://source.unsplash.com/1920x1080/?nature');
                                   position: absolute;
                                   left: 0;
                                   top: 0;
                                   opacity: 0.6;
                                   z-index: -1;
                                   min-height: 100vh;
                                   min-width: 100vw;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>padding-top: 20vh; display: flex; flex-direction: column; align-items: center;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>display-3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Reservation management made easy.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lead<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Lorem, ipsum dolor sit amet consectetur adipisicing elit.
            Numquam in quia natus magnam ducimus quas molestias velit vero maiores.
            Eaque sunt laudantium voluptas. Fugiat molestiae ipsa delectus iusto vel quod.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/reservations<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-success btn-lg my-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Reserve an Amenity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/jquery/3.0.0/jquery.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/popper.js/1.12.9-1/umd/popper.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/bootstrap/4.0.0-2/js/bootstrap.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><figcaption>nav.html</figcaption></figure><p>It should look like this:</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-1024x533.png" class="kg-image" alt="image-1024x533" width="1024" height="533" loading="lazy"></figure><p>We will create another page to show if the user is already logged in. To keep it simple we will also treat it as a home page, and if the user is logged in, they will be able to see their reservations on the home page. </p><p>It is also good in terms of practicality for the user since it decreases the steps they need to take to view their reservations. </p><p>We will now create this page as another endpoint. But after adding the login to our application we will show this previous page if the user is not logged in and the next page if they are logged in, dynamically.</p><p>Before we start working on our new page, let's add another mapping to <strong>HomeController</strong> that will return our new page. We will later merge these two controllers:</p><figure class="kg-card kg-code-card"><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>domain</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>service</span><span class="token punctuation">.</span><span class="token class-name">UserService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>ui</span><span class="token punctuation">.</span><span class="token class-name">Model</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">ResponseBody</span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HomeController</span> <span class="token punctuation">{</span>

    <span class="token keyword">final</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">HomeController</span><span class="token punctuation">(</span><span class="token class-name">UserService</span> userService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userService <span class="token operator">=</span> userService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/reservations"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">reservations</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">10000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">"reservations"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><figcaption>HomeController.java</figcaption></figure><p>If a request is received at "/reservations", this code will call our userService and ask for the user with id 10000L. Then it will add this user to the <strong>Model</strong>. </p><p>View will access this model and present the information about this user's reservations. We have also autowired the user service to use it.</p><p>Navigate to the templates folder if you are not already there and create another file called "reservations.html":</p><pre><code>touch reservations.html</code></pre><p>Copy and paste the following code:</p><pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Reservations<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name"><span class="token namespace">th:</span>rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} <span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fragments/nav :: nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>padding-top: 10vh; display: flex; flex-direction: column; align-items: center;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>Welcome <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> ${user.getFullName()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Amenity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Start Time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>End Time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reservation : ${user.getReservations()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation.getAmenityType()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation.getReservationDate()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation.getStartTime()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation.getEndTime()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/jquery/3.0.0/jquery.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/popper.js/1.12.9-1/umd/popper.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/bootstrap/4.0.0-2/js/bootstrap.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>In this <strong>Thymeleaf</strong> template, we import <strong>Bootstrap</strong> and <strong>Thymeleaf</strong> as before and we access the user variable that was added to the model in our controller by using the ${} syntax. </p><p>To access data, Thymeleaf uses the getter methods of the object and we can print that information by using the <code>th:text</code> attribute. Thymeleaf also supports loops. In the <code>tbody</code> we have a <code>th:each</code> loop, which we can think of as a foreach loop over a user's reservations. So we loop over the reservations and display them in a table.</p><p>You may have an error that says something like "Could not initialize proxy, ... lazy loading". This is caused by the view trying to access the reservations object while it does not yet exist. To get rid of that we can modify the following lines in <strong>User.java</strong>:</p><pre class=" language-java"><code class=" language-java">    <span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>mappedBy <span class="token operator">=</span> <span class="token string">"user"</span><span class="token punctuation">,</span> fetch <span class="token operator">=</span> <span class="token class-name">FetchType</span><span class="token punctuation">.</span>EAGER<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Reservation</span><span class="token punctuation">&gt;</span></span> reservations <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>We add a statement to tell Java to fetch this object eagerly.</p><p>Now you should be able to view the reservations page:</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-1-1024x488.png" class="kg-image" alt="image-1-1024x488" width="1024" height="488" loading="lazy"></figure><h3 id="how-to-create-a-reservation">How to Create a Reservation</h3><p>We also need a way to create new reservations, so let's build that mechanism for our pre-created user like we did with showing the reservations. Then we can alter it to show the reservations of the currently logged-in user.</p><p>Before going forward, we need to update the date formats in our <strong>Reservation.java</strong> file to avoid any format mismatch problems. Make sure your formats for these variables are the same:</p><pre class=" language-java"><code class=" language-java">    <span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> reservationDate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">"HH:mm"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalTime</span> startTime<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">"HH:mm"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalTime</span> endTime<span class="token punctuation">;</span></code></pre><p>In the previous section, we created our <strong>reservations</strong> controller. Now we need to modify it a little bit to add another attribute to the model. </p><p>We learned how we can access the objects that are added to the model by using the ${} syntax. Now we are going to do something similar:</p><pre class=" language-java"><code class=" language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/reservations"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">reservations</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">10000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Reservation</span> reservation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Reservation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"reservation"</span><span class="token punctuation">,</span> reservation<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">"reservations"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre><p>We are updating our reservations controller to move the user object to the session because we want that to be accessible from another controller method and not only from a template. </p><p>Think of it like this: once a user is logged in, this user's account will be responsible for every action that's taken after that point. You can think of Session as a global variable that is accessible from everywhere. </p><p>We also create a <strong>Reservation</strong> object and add it to the model. <strong>Thymeleaf</strong> will access this newly created object in our view template using this model and it will call the setters to set its fields.</p><p>Now let's create the view for creating the reservation. We are going to use <a href="https://getbootstrap.com/docs/4.0/components/modal/">Bootstrap Modal</a> to display a form modal after a button is clicked.</p><p>We can first handle the code to call the modal we are going to create in the next step, move to the reservations.html file, and add this snippet after the table tag we added before:</p><pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span>
  <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span>
  <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#createReservationModal<span class="token punctuation">"</span></span>
<span class="token punctuation">&gt;</span></span>
  Create Reservation
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Modal --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fragments/modal :: modal<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reservation=${reservation}<span class="token punctuation">"</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p>This button will trigger our modal. In the div, we insert this modal that we are going to create and we use the <code>th:with</code> tag to pass the reservation object that was put in the model in our controller. If we do not do this, the fragment will not know about the reservation object.</p><p>We also need to change how we access the user to print their name because we no longer store it in the modal but in session:</p><pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>Welcome <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> ${session.user.getFullName()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>So your final <strong>reservations.html</strong> file should be looking like this:</p><pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Reservations<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span>
      <span class="token attr-name"><span class="token namespace">th:</span>rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} <span class="token punctuation">"</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fragments/nav :: nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span>
        <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>padding-top: 10vh; display: flex; flex-direction: column; align-items: center;<span class="token punctuation">"</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>Welcome <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> ${session.user.getFullName()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Amenity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Start Time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>End Time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reservation : ${session.user.getReservations()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation.getAmenityType()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation.getReservationDate()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation.getStartTime()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation.getEndTime()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span>
          <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span>
          <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#createReservationModal<span class="token punctuation">"</span></span>
        <span class="token punctuation">&gt;</span></span>
          Create Reservation
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- Modal --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
          <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fragments/modal :: modal<span class="token punctuation">"</span></span>
          <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reservation=${reservation}<span class="token punctuation">"</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/jquery/3.0.0/jquery.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/popper.js/1.12.9-1/umd/popper.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/webjars/bootstrap/4.0.0-2/js/bootstrap.min.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>We are now ready to create the modal fragment. We can create a fragment for the modal just like we did with the nav:</p><figure class="kg-card kg-code-card"><pre class=" language-bash"><code class=" language-bash"><span class="token function">pwd</span>
/src/main/resources
<span class="token function">cd</span> templates/fragments
<span class="token function">touch</span> modal.html
</code></pre><figcaption>Creating modal.html</figcaption></figure><p>And paste in the following template code:</p><pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal fade<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span>
      <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>createReservationModal<span class="token punctuation">"</span></span>
      <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span>
      <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dialog<span class="token punctuation">"</span></span>
      <span class="token attr-name">aria-labelledby</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>createReservationModalTitle<span class="token punctuation">"</span></span>
      <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
    <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal-dialog<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>document<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal-content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal-header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal-title<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>createReservationModalTitle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
              Create Reservation
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
              <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>
              <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span>
              <span class="token attr-name">data-dismiss</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span>
              <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Close<span class="token punctuation">"</span></span>
            <span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token entity" title="×">&amp;times;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span>
              <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span>
              <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/reservations-submit}<span class="token punctuation">"</span></span>
              <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation}<span class="token punctuation">"</span></span>
              <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span>
            <span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>type-select<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-2 col-form-label<span class="token punctuation">"</span></span>
                  <span class="token punctuation">&gt;</span></span>Amenity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span>
                <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span>
                    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
                    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>type-select<span class="token punctuation">"</span></span>
                    <span class="token attr-name"><span class="token namespace">th:</span>field</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{amenityType}<span class="token punctuation">"</span></span>
                  <span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POOL<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>POOL<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SAUNA<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>SAUNA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>GYM<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>GYM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>start-date<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-2 col-form-label<span class="token punctuation">"</span></span>
                  <span class="token punctuation">&gt;</span></span>Date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span>
                <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
                    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
                    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span>
                    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>start-date<span class="token punctuation">"</span></span>
                    <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>trip-start<span class="token punctuation">"</span></span>
                    <span class="token attr-name"><span class="token namespace">th:</span>field</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{reservationDate}<span class="token punctuation">"</span></span>
                    <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2018-07-22<span class="token punctuation">"</span></span>
                    <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2021-05-01<span class="token punctuation">"</span></span>
                    <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2021-12-31<span class="token punctuation">"</span></span>
                  <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>start-time<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-2 col-form-label<span class="token punctuation">"</span></span>
                  <span class="token punctuation">&gt;</span></span>From<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span>
                <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
                    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
                    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>time<span class="token punctuation">"</span></span>
                    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>start-time<span class="token punctuation">"</span></span>
                    <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>time<span class="token punctuation">"</span></span>
                    <span class="token attr-name"><span class="token namespace">th:</span>field</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{startTime}<span class="token punctuation">"</span></span>
                    <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>08:00<span class="token punctuation">"</span></span>
                    <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>19:30<span class="token punctuation">"</span></span>
                    <span class="token attr-name">required</span>
                  <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>end-time<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-2 col-form-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>To<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
                    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span>
                    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>time<span class="token punctuation">"</span></span>
                    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>end-time<span class="token punctuation">"</span></span>
                    <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>time<span class="token punctuation">"</span></span>
                    <span class="token attr-name"><span class="token namespace">th:</span>field</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{endTime}<span class="token punctuation">"</span></span>
                    <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>08:30<span class="token punctuation">"</span></span>
                    <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20:00<span class="token punctuation">"</span></span>
                    <span class="token attr-name">required</span>
                  <span class="token punctuation">/&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>small</span><span class="token punctuation">&gt;</span></span>Amenities are available from 8 am to 8 pm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>small</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal-footer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
                  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>
                  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-secondary<span class="token punctuation">"</span></span>
                  <span class="token attr-name">data-dismiss</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span>
                <span class="token punctuation">&gt;</span></span>
                  Close
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                  Save changes
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p>There are a few important points that you need to take note of here.</p><p>Notice how we access the reservation object in the form tag:</p><pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span>
  <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/reservations-submit}<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${reservation}<span class="token punctuation">"</span></span>
  <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><p><br>The <strong><code>th:object</code></strong> tag associates this form with the reservation object that we have created before. <strong><code>th:action</code></strong> determines where this object will be sent when the form is submitted, and our submission method will be <strong>POST</strong>. We will create this controller with the mapping to <strong>/reservations-submit</strong> after this step.</p><p>We use the <strong><code>th:field</code></strong> tag to bind the inputs to our reservation object's fields. Thymeleaf calls the setters of the reservation object whenever that input field's value changes.</p><p>Now let's create the controller that will receive this form. Go to <strong>HomeController</strong> and add the following method:</p><pre class=" language-java"><code class=" language-java"><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/reservations-submit"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">reservationsSubmit</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span> <span class="token class-name">Reservation</span> reservation<span class="token punctuation">,</span>
                                     <span class="token annotation punctuation">@SessionAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// Save to DB after updating</span>
        <span class="token keyword">assert</span> user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        reservation<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        reservationService<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>reservation<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Reservation</span><span class="token punctuation">&gt;</span></span> userReservations <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getReservations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userReservations<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>reservation<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setReservations</span><span class="token punctuation">(</span>userReservations<span class="token punctuation">)</span><span class="token punctuation">;</span>
        userService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"redirect:/reservations"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre><p>And also add the <strong>ReservationService</strong> to our dependencies:</p><pre class=" language-java"><code class=" language-java">    <span class="token keyword">final</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">ReservationService</span> reservationService<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">HomeController</span><span class="token punctuation">(</span><span class="token class-name">UserService</span> userService<span class="token punctuation">,</span> <span class="token class-name">ReservationService</span> reservationService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userService <span class="token operator">=</span> userService<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reservationService <span class="token operator">=</span> reservationService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre><p>After our modal fragment posts the reservation object to this controller, that object will be bound with the <strong>@ModelAttribute</strong> annotation. We also need the user so we use <strong>@SessionAttribute </strong>to get a reference to it.</p><p>The fields of the reservation object should be all set by the form. Now we just need to save it to the database. </p><p>We do that by calling the <strong>create</strong> method. Then we add the new Reservation to the user's list of reservations and update the user to reflect these changes. We then redirect the user to the reservations page to show the updated reservations list.</p><p>Your reservations page should look like this:</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/LFJE0Ad---Imgur.png" class="kg-image" alt="LFJE0Ad---Imgur" srcset="https://www.freecodecamp.org/news/content/images/size/w600/2021/09/LFJE0Ad---Imgur.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2021/09/LFJE0Ad---Imgur.png 1000w, https://www.freecodecamp.org/news/content/images/size/w1600/2021/09/LFJE0Ad---Imgur.png 1600w, https://www.freecodecamp.org/news/content/images/2021/09/LFJE0Ad---Imgur.png 1915w" sizes="(min-width: 720px) 720px" width="600" height="400" loading="lazy"></figure><p>And when you click the button, the create reservation modal should pop up.</p><figure class="kg-card kg-image-card"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/image-42.png" class="kg-image" alt="image-42" srcset="https://www.freecodecamp.org/news/content/images/size/w600/2021/09/image-42.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2021/09/image-42.png 1000w, https://www.freecodecamp.org/news/content/images/2021/09/image-42.png 1180w" sizes="(min-width: 720px) 720px" width="600" height="400" loading="lazy"></figure><h2 id="how-to-add-authentication-and-authorization-to-the-app">How to Add Authentication and Authorization to the App</h2><p>We will use <strong>Spring Security</strong> to add authentication and authorization to our application. We want to make sure that nobody can see each other's reservations and that the users must be logged in to create reservations. </p><p>If you want to learn more about it, I wrote an article that provides an overview of <a href="https://auth0.com/blog/spring-security-overview/">Spring Security</a>. </p><p>We will keep it simple and mostly use the defaults because this is a difficult topic on its own. If you want to learn how to properly set up Spring Security Auth, you can check out my <a href="https://www.freecodecamp.org/news/how-to-setup-jwt-authorization-and-authentication-in-spring/">article</a> on that. </p><p>We need to add "Spring Security" and "Thymeleaf Spring Security" to our dependencies, so open your pom.xml and add the following to your list of dependencies:</p><pre class=" language-xml"><code class=" language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-security<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.thymeleaf.extras<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>thymeleaf-extras-springsecurity5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></code></pre><p>Now, by default, Spring Security makes all the endpoints protected, so we need to configure it to allow viewing the home page. </p><p>Let's create a config folder to contain our <strong>WebSecurityConfig</strong> file. Assuming you are on the root folder:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">cd</span> /src/main/java/com/amenity_reservation_system
<span class="token function">mkdir</span> config <span class="token operator">&amp;&amp;</span> <span class="token function">cd</span> config
<span class="token function">touch</span> WebSecurityConfig.java</code></pre><p>This should be the content of your config file:</p><figure class="kg-card kg-code-card"><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>service</span><span class="token punctuation">.</span><span class="token class-name">UserDetailsServiceImpl</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span>builders</span><span class="token punctuation">.</span><span class="token class-name">AuthenticationManagerBuilder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>builders</span><span class="token punctuation">.</span><span class="token class-name">HttpSecurity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration</span><span class="token punctuation">.</span><span class="token class-name">EnableWebSecurity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration</span><span class="token punctuation">.</span><span class="token class-name">WebSecurityConfigurerAdapter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>bcrypt</span><span class="token punctuation">.</span><span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebSecurity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserDetailsServiceImpl</span> userDetailsService<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">BCryptPasswordEncoder</span> bCryptPasswordEncoder<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">WebSecurityConfig</span><span class="token punctuation">(</span><span class="token class-name">UserDetailsServiceImpl</span> userDetailsService<span class="token punctuation">,</span> <span class="token class-name">BCryptPasswordEncoder</span> bCryptPasswordEncoder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDetailsService <span class="token operator">=</span> userDetailsService<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bCryptPasswordEncoder <span class="token operator">=</span> bCryptPasswordEncoder<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        http
                <span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token string">"/webjars/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">formLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">logoutSuccessUrl</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationManagerBuilder</span> auth<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        auth<span class="token punctuation">.</span><span class="token function">userDetailsService</span><span class="token punctuation">(</span>userDetailsService<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">passwordEncoder</span><span class="token punctuation">(</span>bCryptPasswordEncoder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre><figcaption>WebSecurityConfig.java</figcaption></figure><p>I will not go into the details, but here's a summary of what happened here: </p><ul><li>we configured Spring Security to permit all requests made to the home page ("/")</li><li>we configured our styles ("/webjars/**")</li><li>we asked it to provide us with login and logout forms </li><li>and we asked it to permit the requests to them as well and redirect to the home page after logout is successful</li></ul><p>Isn't it amazing what you can achieve with just a few statements?</p><p>We also configured our <strong>AuthenticationManagerBuilder</strong> to use bCryptPasswordEncoder and userDetailsService. But wait, we don't have neither of them yet, and your IDE may already be complaining about that. So let's create them.</p><p>Before we go on, it may be a good idea to add <strong>username </strong>and passwordHash fields to our <strong>User </strong>class. We'll use them to authenticate the user instead of using their full name. Then we'll add it to the constructor.</p><figure class="kg-card kg-code-card"><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">OffsetDateTime</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">HashSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Set</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>persistence</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">AllArgsConstructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">Getter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">NoArgsConstructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">Setter</span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token annotation punctuation">@Setter</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> updatable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@SequenceGenerator</span><span class="token punctuation">(</span>
            name <span class="token operator">=</span> <span class="token string">"primary_sequence"</span><span class="token punctuation">,</span>
            sequenceName <span class="token operator">=</span> <span class="token string">"primary_sequence"</span><span class="token punctuation">,</span>
            allocationSize <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
            initialValue <span class="token operator">=</span> <span class="token number">10000</span>
    <span class="token punctuation">)</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>
            strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>SEQUENCE<span class="token punctuation">,</span>
            generator <span class="token operator">=</span> <span class="token string">"primary_sequence"</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> unique <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> fullName<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> unique <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> passwordHash<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>mappedBy <span class="token operator">=</span> <span class="token string">"user"</span><span class="token punctuation">,</span> fetch <span class="token operator">=</span> <span class="token class-name">FetchType</span><span class="token punctuation">.</span>EAGER<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Reservation</span><span class="token punctuation">&gt;</span></span> reservations <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> updatable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">OffsetDateTime</span> dateCreated<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">OffsetDateTime</span> lastUpdated<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@PrePersist</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prePersist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dateCreated <span class="token operator">=</span> <span class="token class-name">OffsetDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lastUpdated <span class="token operator">=</span> dateCreated<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PreUpdate</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">preUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lastUpdated <span class="token operator">=</span> <span class="token class-name">OffsetDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> fullName<span class="token punctuation">,</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> passwordHash<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> fullName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>passwordHash <span class="token operator">=</span> passwordHash<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><figcaption>User.java</figcaption></figure><p>Create a file called <strong>UserDetailsServiceImpl</strong> under the services folder:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">cd</span> <span class="token function">service</span>
<span class="token function">touch</span> UserDetailsServiceImpl.java</code></pre><figure class="kg-card kg-code-card"><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">UserRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails</span><span class="token punctuation">.</span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails</span><span class="token punctuation">.</span><span class="token class-name">UserDetailsService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails</span><span class="token punctuation">.</span><span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDetailsServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDetailsService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDetailsServiceImpl</span><span class="token punctuation">(</span><span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userRepository <span class="token operator">=</span> userRepository<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDetails</span> <span class="token function">loadUserByUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">UsernameNotFoundException</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">User</span> user <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findUserByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">withUsername</span><span class="token punctuation">(</span>
                user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getPwHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">roles</span><span class="token punctuation">(</span><span class="token string">"USER"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> userDetails<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><figcaption>UserDetailsServiceImpl.java</figcaption></figure><p>This basically tells Spring Security that we want to use the <strong>User</strong> entity we created earlier by getting the <strong>User</strong> object from our database and using the JPA method on our repository. But again, we do not have the <strong>findUserByUsername</strong> method on our <strong>UserRepository</strong>. You can try fixing this on your own as a challenge, it is really simple.</p><p>Remember, we do not need to write queries. It is sufficient to provide the signature and let JPA do the work.</p><figure class="kg-card kg-code-card"><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository</span><span class="token punctuation">.</span><span class="token class-name">JpaRepository</span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token class-name">User</span> <span class="token function">findUserByUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><figcaption>UserRepository.java</figcaption></figure><p>We also need a <strong>BCryptPasswordEncoder</strong> bean to satisfy that dependency in <strong>WebSecurityConfig</strong> and to make it work. Let's modify our main class to add a bean and change the constructor parameters to give our predefined <strong>User</strong> a username.</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">AmenityType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">Reservation</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">ReservationRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">UserRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot</span><span class="token punctuation">.</span><span class="token class-name">CommandLineRunner</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot</span><span class="token punctuation">.</span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure</span><span class="token punctuation">.</span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>bcrypt</span><span class="token punctuation">.</span><span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text</span><span class="token punctuation">.</span><span class="token class-name">DateFormat</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text</span><span class="token punctuation">.</span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">LocalDate</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">LocalTime</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">ZoneId</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Date</span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AmenityReservationSystemApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">AmenityReservationSystemApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">CommandLineRunner</span> <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">,</span>
                                      <span class="token class-name">ReservationRepository</span> reservationRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
      <span class="token class-name">User</span> user <span class="token operator">=</span>
          userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>
              <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"Yigit Kemal Erinc"</span><span class="token punctuation">,</span>
                      <span class="token string">"yigiterinc"</span><span class="token punctuation">,</span>
                      <span class="token function">bCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"12345"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">DateFormat</span> dateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"dd/MM/yyyy HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Reservation</span> reservation <span class="token operator">=</span>
          <span class="token class-name">Reservation</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">reservationDate</span><span class="token punctuation">(</span>localDate<span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">startTime</span><span class="token punctuation">(</span><span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">endTime</span><span class="token punctuation">(</span><span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">user</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">amenityType</span><span class="token punctuation">(</span><span class="token class-name">AmenityType</span><span class="token punctuation">.</span>POOL<span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      reservationRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>reservation<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">BCryptPasswordEncoder</span> <span class="token function">bCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Your application should be ready to compile now and it should already be redirecting you to the login page if you send a request to "/reservations". </p><p>It would be nice to have buttons for log-in and log-out on the navbar, and we want to show login if user is not authenticated and logout otherwise. We can do it this way in <strong>nav.html</strong>:</p><figure class="kg-card kg-code-card"><pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>sec</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/xhtml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar navbar-expand navbar-dark bg-primary<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-nav w-100<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-brand text-color<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Amenities Reservation System<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">sec:</span>authorize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isAnonymous()<span class="token punctuation">"</span></span>
           <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-brand text-color<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/login}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Log in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">sec:</span>authorize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isAuthenticated()<span class="token punctuation">"</span></span>
               <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-brand text-color<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/logout}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Log out<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><figcaption>nav.html</figcaption></figure><p>The log in link should now be visible on the navbar.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/Screen-Shot-2021-09-10-at-02.19.09.png" class="kg-image" alt="Screen-Shot-2021-09-10-at-02.19.09" srcset="https://www.freecodecamp.org/news/content/images/size/w600/2021/09/Screen-Shot-2021-09-10-at-02.19.09.png 600w, https://www.freecodecamp.org/news/content/images/size/w1000/2021/09/Screen-Shot-2021-09-10-at-02.19.09.png 1000w, https://www.freecodecamp.org/news/content/images/size/w1600/2021/09/Screen-Shot-2021-09-10-at-02.19.09.png 1600w, https://www.freecodecamp.org/news/content/images/2021/09/Screen-Shot-2021-09-10-at-02.19.09.png 2176w" sizes="(min-width: 720px) 720px" width="600" height="400" loading="lazy"><figcaption>Home page when you are not logged in</figcaption></figure><h2 id="how-to-show-a-logged-in-user-s-reservations">How to Show a Logged-in User's Reservations</h2><p>Our Reservations page is currently displaying the reservations of one hard-coded user and not the reservations of the logged-in user. </p><figure class="kg-card kg-code-card"><pre class=" language-java"><code class=" language-java">    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/reservations"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">reservations</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">10000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Reservation</span> reservation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Reservation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"reservation"</span><span class="token punctuation">,</span> reservation<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">"reservations"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><figcaption>Current reservations controller</figcaption></figure><p>We need to show the reservations of the currently logged-in user. To achieve that, we should use some Spring Security.</p><p>Go to the <strong>HomeController </strong>(I know, that name is a bit problematic right now) class and change it with the following code:</p><figure class="kg-card kg-code-card"><pre class=" language-java"><code class=" language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/reservations"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">reservations</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">UserDetails</span> principal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDetails</span><span class="token punctuation">)</span> <span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAuthentication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> principal<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">getUserByUsername</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// This should always be the case </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// Empty reservation object in case the user creates a new reservation</span>
            <span class="token class-name">Reservation</span> reservation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Reservation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"reservation"</span><span class="token punctuation">,</span> reservation<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token string">"reservations"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span></code></pre><figcaption>Reservations controller</figcaption></figure><p>Since we have added Spring Security to the project, it automatically creates the <strong>Authentication</strong> object behind the scenes – we are getting that from <strong>SecurityContextHolder</strong>. </p><p>We are grabbing the <strong><a href="https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/userdetails/UserDetails.html#:~:text=Interface%20UserDetails&amp;text=Provides%20core%20user%20information.,later%20encapsulated%20into%20Authentication%20objects.">UserDetails</a></strong> object which stores the info related to user. Then we check if the user object is null. This should always be the case since <em>reservations</em> is a protected endpoint and the user must be logged in to see that page – but it is always good to make sure everything is as expected.</p><p>Then we call the <strong>UserService</strong> class to get the <strong>User</strong> object which has this username – but we have not added the <strong>getUserByUsername</strong> method yet. So let's move to the <strong>UserService</strong> and add this simple method.</p><pre class=" language-java"><code class=" language-java">    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getUserByUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">findUserByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre><p>Now you should be able to see the logged-in user's reservations. You can try that by adding another user and creating reservations for that user as well. </p><h3 id="how-to-check-the-capacity">How to Check the Capacity </h3><p>We currently don't have a mechanism to store the Capacity of each amenity type. We need to store those somehow and also check that there is enough capacity before we approve a reservation. </p><p>For that purpose, let's create a class called <strong>Capacity</strong> under our model folder.</p><figure class="kg-card kg-code-card"><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">AllArgsConstructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">Getter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">NoArgsConstructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">Setter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>persistence</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token annotation punctuation">@Setter</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Capacity</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> updatable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@SequenceGenerator</span><span class="token punctuation">(</span>
            name <span class="token operator">=</span> <span class="token string">"primary_sequence"</span><span class="token punctuation">,</span>
            sequenceName <span class="token operator">=</span> <span class="token string">"primary_sequence"</span><span class="token punctuation">,</span>
            allocationSize <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
            initialValue <span class="token operator">=</span> <span class="token number">10000</span>
    <span class="token punctuation">)</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>
            strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>SEQUENCE<span class="token punctuation">,</span>
            generator <span class="token operator">=</span> <span class="token string">"primary_sequence"</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> unique <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Enumerated</span><span class="token punctuation">(</span><span class="token class-name">EnumType</span><span class="token punctuation">.</span>STRING<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">AmenityType</span> amenityType<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> capacity<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Capacity</span><span class="token punctuation">(</span><span class="token class-name">AmenityType</span> amenityType<span class="token punctuation">,</span> <span class="token keyword">int</span> capacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>amenityType <span class="token operator">=</span> amenityType<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>capacity <span class="token operator">=</span> capacity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><figcaption>Capacity.java</figcaption></figure><p>This is the entity that will represent our logical construct to be stored in our database. It is basically a map entry with an AmenityType and its corresponding capacity.</p><p>We also need a repository to store the <strong>Capacity</strong> entries, so let's create the CapacityRepository under the <strong>repos</strong> folder.</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">Capacity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository</span><span class="token punctuation">.</span><span class="token class-name">JpaRepository</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CapacityRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Capacity</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><p>We need to populate this new table with the initial capacities. We could read the initial capacities from a config file or something, but let's keep it simple and hardcode it using loadData in our main method.</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">AmenityType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">Capacity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">Reservation</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>model</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">CapacityRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">ReservationRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>repos</span><span class="token punctuation">.</span><span class="token class-name">UserRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot</span><span class="token punctuation">.</span><span class="token class-name">CommandLineRunner</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot</span><span class="token punctuation">.</span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure</span><span class="token punctuation">.</span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>bcrypt</span><span class="token punctuation">.</span><span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text</span><span class="token punctuation">.</span><span class="token class-name">DateFormat</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text</span><span class="token punctuation">.</span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">LocalDate</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">LocalTime</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time</span><span class="token punctuation">.</span><span class="token class-name">ZoneId</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Date</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AmenityReservationSystemApplication</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AmenityType</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> initialCapacities <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span>
          <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">AmenityType</span><span class="token punctuation">.</span>GYM<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">AmenityType</span><span class="token punctuation">.</span>POOL<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">AmenityType</span><span class="token punctuation">.</span>SAUNA<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">AmenityReservationSystemApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Bean</span>
  <span class="token keyword">public</span> <span class="token class-name">CommandLineRunner</span> <span class="token function">loadData</span><span class="token punctuation">(</span>
      <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">,</span>
      <span class="token class-name">CapacityRepository</span> capacityRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
      userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>
          <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"Yigit Kemal Erinc"</span><span class="token punctuation">,</span> <span class="token string">"yigiterinc"</span><span class="token punctuation">,</span> <span class="token function">bCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"12345"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">AmenityType</span> amenityType <span class="token operator">:</span> initialCapacities<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        capacityRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Capacity</span><span class="token punctuation">(</span>amenityType<span class="token punctuation">,</span> initialCapacities<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>amenityType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Bean</span>
  <span class="token keyword">public</span> <span class="token class-name">BCryptPasswordEncoder</span> <span class="token function">bCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>I just added the capacities inside the <strong>initialCapacities</strong> map then saved those to the <strong>CapacityRepository</strong> inside the <strong>loadData</strong> method.</p><p>We can now check if the number of reservations in the requested time exceeds the capacity and reject the reservation request if it does.</p><p>So here is the logic: We need to fetch the number of reservations that are on the same day and overlap with this current request. Then we need to fetch the capacity for this amenity type, and if the capacity is exceeded we can throw an exception. </p><p>Therefore we need a query to get the number of potentially overlapping reservations. It is not the easiest query to write, but JPA is very convenient and we can access that query inside our <strong>ReservationRepository</strong> without needing to write any SQL or HQL (Hibernate Query Language). </p><p>I encourage you to try it yourself before moving forward, because this is like the sole reason why I have included this concept of capacity in this tutorial (to show an example of a more advanced JPA query).</p><p>So this is how the <strong>ReservationService</strong>'s create method looks. You need to replace the 0 with a call to reservationRepository to get the number of overlapping reservations. </p><p>If the current number of overlapping reservations is equal to the capacity, it means that the next one will exceed it so we throw the exception.</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Reservation</span> reservation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> capacity <span class="token operator">=</span> capacityRepository<span class="token punctuation">.</span><span class="token function">findByAmenityType</span><span class="token punctuation">(</span>reservation<span class="token punctuation">.</span><span class="token function">getAmenityType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> overlappingReservations <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// TODO</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>overlappingReservations <span class="token operator">&gt;=</span> capacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Throw a custom exception</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> reservationRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>reservation<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre><p>To find the overlapping reservations there are a few conditions we need to check:</p><p>First of all, the reservation date should be the same as the date in the request.</p><ol><li>Start time can be before the startTime of a new request. In that case, the end time should be later than our request, in order to overlap. (startTimeBeforeAndEndTimeAfter)</li><li>Or, endTime can be after but the startTime can actually be between the startTime and endTime of the request. (endTimeAfterOrStartTimeBetween)</li></ol><p>So our final query should return all reservations which match any of these 2 possibilities.</p><p>We can express it like this: </p><pre class=" language-java"><code class=" language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Reservation</span><span class="token punctuation">&gt;</span></span> findReservationsByReservationDateAndStartTimeBeforeAndEndTimeAfterOrStartTimeBetween
            <span class="token punctuation">(</span><span class="token class-name">LocalDate</span> reservationDate<span class="token punctuation">,</span> <span class="token class-name">LocalTime</span> startTime<span class="token punctuation">,</span> <span class="token class-name">LocalTime</span> endTime<span class="token punctuation">,</span> <span class="token class-name">LocalTime</span> betweenStart<span class="token punctuation">,</span> <span class="token class-name">LocalTime</span> betweenEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>And the final create method looks like this:</p><pre class=" language-java"><code class=" language-java"> <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Reservation</span> reservation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> capacity <span class="token operator">=</span> capacityRepository<span class="token punctuation">.</span><span class="token function">findByAmenityType</span><span class="token punctuation">(</span>reservation<span class="token punctuation">.</span><span class="token function">getAmenityType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> overlappingReservations <span class="token operator">=</span> reservationRepository
                <span class="token punctuation">.</span><span class="token function">findReservationsByReservationDateAndStartTimeBeforeAndEndTimeAfterOrStartTimeBetween</span><span class="token punctuation">(</span>
                        reservation<span class="token punctuation">.</span><span class="token function">getReservationDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        reservation<span class="token punctuation">.</span><span class="token function">getStartTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> reservation<span class="token punctuation">.</span><span class="token function">getEndTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        reservation<span class="token punctuation">.</span><span class="token function">getStartTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> reservation<span class="token punctuation">.</span><span class="token function">getEndTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>overlappingReservations <span class="token operator">&gt;=</span> capacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">CapacityFullException</span><span class="token punctuation">(</span><span class="token string">"This amenity's capacity is full at desired time"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> reservationRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>reservation<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre><p>You don't need to worry about the custom exception, but if you are interested in that, here is the code:</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>amenity_reservation_system<span class="token punctuation">.</span>exception</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CapacityFullException</span> <span class="token keyword">extends</span> <span class="token class-name">RuntimeException</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">CapacityFullException</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>We should normally show an error modal if the capacity is exceeded but I will skip that to avoid repetitive UI stuff. You can try that as a challenge if you wish.</p><h2 id="conclusion">Conclusion</h2><p>In this tutorial, we have learned about so many technologies that make development with Spring Boot easier and faster. </p><p>I believe many people underestimate the framework in terms of development speed and the quality of the resulting work. </p><p>Assuming you are fluent with the technology, I would argue that Spring Boot is not any slower (in development) than any other backend framework if you do everything in the modern fashion. </p><p>You can find the whole code in this repository:</p><p><a href="https://github.com/yigiterinc/amenity-reservation-system.git">https://github.com/yigiterinc/amenity-reservation-system.git</a></p><p>If you are interested in reading more content like this, feel free to subscribe to my blog at <a href="https://erinc.io/" rel="noopener">https://erinc.io</a> to get notified about my new posts.</p>

                        </section>
                        
                            <div class="sidebar">
                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                                
                            </div>
                        
                    </div>
                    <hr>
                    
                        <div class="post-full-author-header">
                            
                                
    
    

    <section class="author-card">
        
            
    <img srcset="https://www.freecodecamp.org/news/content/images/size/w60/2020/08/ben.jpg 60w" sizes="60px" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/ben.jpg" class="author-profile-image" alt="Yiğit Kemal Erinç" width="400" height="400" onerror="this.style.display=&#39;none&#39;" loading="lazy">
  
        

        <section class="author-card-content ">
            <span class="author-card-name">
                <a href="https://www.freecodecamp.org/news/author/erinc/">
                    
                        Yiğit Kemal Erinç
                    
                </a>
            </span>
            
                
                    <p>I am an MSc. student at TU Munich and a part-time SWE at Visa. I like working with Java microservices and frontend stuff. Feel free to reach me out :)</p>
                
            
        </section>
    </section>

                            
                        </div>
                        <hr>
                    

                    
                    
                        

<p data-test-label="social-row" class="social-row">
    If you read this far, tweet to the author to show them you care. <a id="tweet-btn" class="cta-button" onclick="window.open(
    &#39;https://twitter.com/intent/tweet?text=Thank you @erinccodes for writing this helpful article.%0A%0ASpring Boot Tutorial – How to Build Fast and Modern Java Apps%0A%0Ahttps://www.freecodecamp.org/news/spring-boot-tutorial-build-fast-modern-java-app/&#39;,
    &#39;share-twitter&#39;,
    &#39;width=550, height=235&#39;
  ); return false;">Tweet a thanks</a>
</p>


    
    <script>document.addEventListener("DOMContentLoaded",(()=>{const t="Spring Boot Tutorial – How to Build Fast and Modern Java Apps".replace(/&#39;/g,"%27"),e=window.location,n=`window.open(\n    'https://twitter.com/intent/tweet?text=${`Thank you @erinccodes for writing this helpful article.%0A%0A${t}%0A%0A${e}`}',\n    'share-twitter',\n    'width=550, height=235'\n  ); return false;`;document.getElementById("tweet-btn").setAttribute("onclick",n)}));</script>


                        

<div class="learn-cta-row" data-test-label="learn-cta-row">
    <p>
        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a href="https://www.freecodecamp.org/learn/" class="cta-button" id="learn-to-code-cta" rel="noopener noreferrer" target="_blank">Get started</a>
    </p>
</div>

                    
                </section>
            </article>
            
                <div class="banner-ad bottom">
                    <div class="ad-container">
    <ins class="adsbygoogle" style="display: block; height: 280px" data-ad-client="ca-pub-9482786369113753" data-ad-slot="5720086888" data-ad-format="auto"></ins>
</div>
<script>
    window.addEventListener('load', () => {
        if (notAuthenticated) (adsbygoogle = window.adsbygoogle || []).push({});
    });
</script>

                </div>
            
        </div>
    </main>


            

<footer class="site-footer">
    <div class="footer-container">
        <div class="footer-top">
            <div class="footer-desc-col">
                <p data-test-label="tax-exempt-status">freeCodeCamp is a donor-supported tax-exempt 501(c)(3) nonprofit organization (United States Federal Tax Identification Number: 82-0779546)</p>
                <p data-test-label="mission-statement">Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public. We also have thousands of freeCodeCamp study groups around the world.</p>
                <p data-test-label="donation-initiatives">Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.</p>
                <p class="footer-donation" data-test-label="donate-text">
                    You can <a href="https://www.freecodecamp.org/donate/" class="inline" rel="noopener noreferrer" target="_blank">make a tax-deductible donation here</a>.
                </p>
            </div>
            <div class="trending-guides" data-test-label="trending-guides">
                <div class="col-header">Trending Guides</div>
                <div class="trending-guides-row">
                    <div class="footer-col footer-col-1">
                        <a href="https://www.freecodecamp.org/news/css-vertical-align-how-to-center-a-div-text-or-an-image-example-code/" rel="noopener noreferrer" target="_blank">CSS Vertical Align
                        </a>
                        <a href="https://www.freecodecamp.org/news/javascript-for-loop-how-to-loop-through-an-array-in-js/" rel="noopener noreferrer" target="_blank">JavaScript for loop
                        </a>
                        <a href="https://www.freecodecamp.org/news/google-doodle-games-baseball-pacman-and-more/" rel="noopener noreferrer" target="_blank">Google Doodle Games
                        </a>
                        <a href="https://www.freecodecamp.org/news/excel-text-function-how-to-convert-a-number-to-text-format/" rel="noopener noreferrer" target="_blank">Excel Text Function
                        </a>
                        <a href="https://www.freecodecamp.org/news/what-is-a-hyperlink-definition-for-html-link-beginners/" rel="noopener noreferrer" target="_blank">What is a Hyperlink?
                        </a>
                        <a href="https://www.freecodecamp.org/news/sql-update-statement-update-query-in-sql/" rel="noopener noreferrer" target="_blank">SQL Update Statement
                        </a>
                        <a href="https://www.freecodecamp.org/news/css-background-image-with-html-example-code/" rel="noopener noreferrer" target="_blank">CSS Background Image
                        </a>
                        <a href="https://www.freecodecamp.org/news/what-is-about-blank-chrome-blank-homepage-guide/" rel="noopener noreferrer" target="_blank">What is about:blank?
                        </a>
                        <a href="https://www.freecodecamp.org/news/css-background-color-how-to-change-the-background-color-in-html/" rel="noopener noreferrer" target="_blank">CSS Background Color
                        </a>
                        <a href="https://www.freecodecamp.org/news/basic-html5-template-boilerplate-code-example/" rel="noopener noreferrer" target="_blank">Basic HTML5 Template
                        </a>
                    </div>
                    <div class="footer-col footer-col-2">
                        <a href="https://www.freecodecamp.org/news/css-border-style-and-html-code-examples/" rel="noopener noreferrer" target="_blank">CSS Border
                        </a>
                        <a href="https://www.freecodecamp.org/news/learn-sql-queries-database-query-tutorial-for-beginners/" rel="noopener noreferrer" target="_blank">SQL Queries
                        </a>
                        <a href="https://www.freecodecamp.org/news/html-a-tag-anchor-link-href-example/" rel="noopener noreferrer" target="_blank">HTML &lt;a&gt; tag
                        </a>
                        <a href="https://www.freecodecamp.org/news/html-padding-css-padding-order/" rel="noopener noreferrer" target="_blank">HTML Padding
                        </a>
                        <a href="https://www.freecodecamp.org/news/what-is-coding/" rel="noopener noreferrer" target="_blank">What is Coding?
                        </a>
                        <a href="https://www.freecodecamp.org/news/insert-into-sql-sql-insert-statement-example/" rel="noopener noreferrer" target="_blank">Insert Into SQL
                        </a>
                        <a href="https://www.freecodecamp.org/news/python-for-loop-example-and-tutorial/" rel="noopener noreferrer" target="_blank">Python for loop
                        </a>
                        <a href="https://www.freecodecamp.org/news/12-free-coding-games-to-learn-programming-for-beginners/" rel="noopener noreferrer" target="_blank">Free Coding Games
                        </a>
                        <a href="https://www.freecodecamp.org/news/if-statement-excel-if-function-examples/" rel="noopener noreferrer" target="_blank">If Statement Excel
                        </a>
                        <a href="https://www.freecodecamp.org/news/alter-table-in-sql-how-to-add-a-column-or-rename-a-column-in-sql/" rel="noopener noreferrer" target="_blank">Alter Table in SQL
                        </a>
                    </div>
                    <div class="footer-col footer-col-3">
                        <div class="footer-left">
                            <a href="https://www.freecodecamp.org/news/row-vs-column-in-excel-what-is-the-difference/" rel="noopener noreferrer" target="_blank">Row vs Column in Excel
                            </a>
                            <a href="https://www.freecodecamp.org/news/how-to-get-rid-of-the-activate-windows-watermark-windows-10-pc-activation-message-removal/" rel="noopener noreferrer" target="_blank">Remove Activate Windows
                            </a>
                            <a href="https://www.freecodecamp.org/news/not-equal-sign-how-to-type-the-does-not-equal-symbol/" rel="noopener noreferrer" target="_blank">Type the Not Equal Sign
                            </a>
                            <a href="https://www.freecodecamp.org/news/google-docs-voice-typing-how-to-use-speech-to-text-in-a-google-doc/" rel="noopener noreferrer" target="_blank">Google Docs Voice Typing
                            </a>
                            <a href="https://www.freecodecamp.org/news/python-if-else-statement-conditional-statements-explained/" rel="noopener noreferrer" target="_blank">Python if else Statement
                            </a>
                        </div>

                        <div class="footer-right">
                            <a href="https://www.freecodecamp.org/news/how-to-screenshot-on-mac-take-a-screen-capture-with-a-keyboard-shortcut/" rel="noopener noreferrer" target="_blank">How to Screenshot on Mac
                            </a>
                            <a href="https://www.freecodecamp.org/news/sql-where-clause-examples/" rel="noopener noreferrer" target="_blank">SQL Where Clause Examples
                            </a>
                            <a href="https://www.freecodecamp.org/news/how-to-access-clipboard-in-android-and-clear-it/" rel="noopener noreferrer" target="_blank">Access Clipboard in Android
                            </a>
                            <a href="https://www.freecodecamp.org/news/javascript-if-else-and-if-then-js-conditional-statements/" rel="noopener noreferrer" target="_blank">JavaScript if-else &amp; if-then
                            </a>
                            <a href="https://www.freecodecamp.org/news/how-to-clear-search-history-delete-all-browsing-data-in-chrome/" rel="noopener noreferrer" target="_blank">Clear Browser Search History
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="col-header" data-test-label="our-nonprofit">Our Nonprofit</div>
            <div class="footer-divider"></div>
            <div class="our-nonprofit">
                <a href="https://www.freecodecamp.org/news/about/" rel="noopener noreferrer" target="_blank" data-test-label="about">
                    About
                </a>
                <a href="https://www.linkedin.com/school/free-code-camp/people/" rel="noopener noreferrer" target="_blank" data-test-label="alumni">
                    Alumni Network
                </a>
                <a href="https://github.com/freeCodeCamp/" rel="noopener noreferrer" target="_blank" data-test-label="open-source">
                    Open Source
                </a>
                <a href="https://www.freecodecamp.org/news/shop/" rel="noopener noreferrer" target="_blank" data-test-label="shop">
                    Shop
                </a>
                <a href="https://www.freecodecamp.org/news/support/" rel="noopener noreferrer" target="_blank" data-test-label="support">
                    Support
                </a>
                <a href="https://www.freecodecamp.org/news/sponsors/" rel="noopener noreferrer" target="_blank" data-test-label="sponsors">
                    Sponsors
                </a>
                <a href="https://www.freecodecamp.org/news/academic-honesty-policy/" rel="noopener noreferrer" target="_blank" data-test-label="honesty">
                    Academic Honesty
                </a>
                <a href="https://www.freecodecamp.org/news/code-of-conduct/" rel="noopener noreferrer" target="_blank" data-test-label="coc">
                    Code of Conduct
                </a>
                <a href="https://www.freecodecamp.org/news/privacy-policy/" rel="noopener noreferrer" target="_blank" data-test-label="privacy">
                    Privacy Policy
                </a>
                <a href="https://www.freecodecamp.org/news/terms-of-service/" rel="noopener noreferrer" target="_blank" data-test-label="tos">
                    Terms of Service
                </a>
                <a href="https://www.freecodecamp.org/news/copyright-policy/" rel="noopener noreferrer" target="_blank" data-test-label="copyright">
                    Copyright Policy
                </a>
            </div>
        </div>
    </div>
</footer>

        </div>

        
        
        

        <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

        
    <script defer="" src="./Spring Boot Tutorial – How to Build Fast and Modern Java Apps_files/v652eace1692a40cfa3763df669d7439c1639079717194" integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==" data-cf-beacon="{&quot;rayId&quot;:&quot;6dcc049ded943378&quot;,&quot;token&quot;:&quot;bdb993c6dde44e178aabd9555e75e4f4&quot;,&quot;version&quot;:&quot;2021.12.0&quot;,&quot;si&quot;:100}" crossorigin="anonymous"></script>


</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>